<!doctype html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>TĐ Mobile - Sửa thông tin khách hàng</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/png" href="../../static/assets/images/icon/favicon.ico" th:href="@{/assets/images/icon/favicon.ico}">
    <link rel="stylesheet" href="../../static/assets/css/bootstrap.min.css" th:href="@{/assets/css/bootstrap.min.css}">
    <link rel="stylesheet" href="../../static/assets/css/font-awesome.min.css" th:href="@{/assets/css/font-awesome.min.css}">
    <link rel="stylesheet" href="../../static/assets/css/themify-icons.css" th:href="@{/assets/css/themify-icons.css}">
    <link rel="stylesheet" href="../../static/assets/css/metisMenu.css" th:href="@{/assets/css/metisMenu.css}">
    <link rel="stylesheet" href="../../static/assets/css/owl.carousel.min.css" th:href="@{/assets/css/owl.carousel.min.css}">
    <link rel="stylesheet" href="../../static/assets/css/slicknav.min.css" th:href="@{/assets/css/slicknav.min.css}">
    <!-- amchart css -->
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
    <!-- others css -->
    <link rel="stylesheet" href="../../static/assets/css/typography.css" th:href="@{/assets/css/typography.css}">
    <link rel="stylesheet" href="../../static/assets/css/default-css.css" th:href="@{/assets/css/default-css.css}">
    <link rel="stylesheet" href="../../static/assets/css/styles.css" th:href="@{/assets/css/styles.css}">
    <link rel="stylesheet" href="../../static/assets/css/responsive.css" th:href="@{/assets/css/responsive.css}">
    <!-- modernizr css -->
    <script src="../../static/assets/js/vendor/modernizr-2.8.3.min.js" th:src="@{/assets/js/vendor/modernizr-2.8.3.min.js}"></script>
    <style>
        .card {
            border: none;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        .card-header {
            background-color: #fff;
            border-bottom: 2px solid #f0f0f0;
            padding: 20px;
        }
        .card-title {
            color: #333;
            font-size: 1.5rem;
            margin: 0;
        }
        .form-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .form-section-title {
            color: #007bff;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
        }
        .form-control {
            border-radius: 5px;
            border: 1px solid #ddd;
            padding: 8px 15px;
            height: auto;
        }
        .form-control:focus {
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0,123,255,0.3);
        }
        .btn-submit {
            padding: 10px 30px;
            font-size: 16px;
            border-radius: 5px;
        }
        .btn-cancel {
            padding: 10px 30px;
            font-size: 16px;
            border-radius: 5px;
            background-color: #6c757d;
            border-color: #6c757d;
        }
        .form-group label {
            font-weight: 500;
            color: #555;
            margin-bottom: 8px;
        }
        .required-field::after {
            content: " *";
            color: red;
        }
    </style>
</head>

<body>
    <!-- Giữ nguyên preloader và sidebar như các trang khác -->

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header Area -->
        <div class="page-title-area">
            <div class="row align-items-center">
                <div class="col-sm-6">
                    <div class="breadcrumbs-area clearfix">
                        <h4 class="page-title pull-left">Sửa thông tin khách hàng</h4>
                        <ul class="breadcrumbs pull-left">
                            <li><a href="/management/dashboard">Trang chủ</a></li>
                            <li><a href="/management/customers">Quản lý khách hàng</a></li>
                            <li><span>Sửa khách hàng</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Inner -->
        <div class="main-content-inner">
            <div class="container mt-4">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="card-title">Sửa thông tin khách hàng</h4>
                        <span class="badge badge-primary" th:text="'Mã KH: ' + ${customer.userId}"></span>
                    </div>
                    <div class="card-body p-4">
                        <form id="editCustomerForm" th:action="@{/management/customers/update}" method="post" th:object="${customer}">
                            <!-- Thông tin cá nhân -->
                            <div class="form-section">
                                <h5 class="form-section-title">Thông tin cá nhân</h5>
                                <div class="row">
                                    <div class="col-md-6">

                                        <!-- Thông báo lỗi -->
                                        <div th:if="${#fields.hasErrors('userId')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('userId')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('fullname')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('fullname')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('email')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('email')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('phone')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('phone')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('CCCD')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('CCCD')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('address')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('address')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('role')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('role')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('dob')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('dob')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('gender')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('gender')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('status')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('status')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <div th:if="${#fields.hasErrors('password')}" class="alert alert-danger">
                                            <ul>
                                                <li th:each="err : ${#fields.errors('password')}" th:text="${err}"></li>
                                            </ul>
                                        </div>

                                        <!--Nhập thông tin khách hàng-->
                                        <div class="form-group">
                                            <label class="required-field">Mã khách hàng</label>
                                            <input type="text" class="form-control" th:value="${customer.userId}" th:field="*{userId}" readonly>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Họ và tên</label>
                                            <input type="text" class="form-control" th:field="*{fullname}" placeholder="Nhập họ và tên" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Ngày sinh</label>
                                            <input type="date" class="form-control" th:field="*{dob}" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Giới tính</label>
                                            <select class="form-control" th:field="*{gender}" required>
                                                <option value="Nam" th:selected="${customer.gender == 'Nam'}">Nam</option>
                                                <option value="Nữ" th:selected="${customer.gender == 'Nữ'}">Nữ</option>
                                                <option value="Khác" th:selected="${customer.gender == 'Khác'}">Khác</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Thông tin liên hệ -->
                            <div class="form-section">
                                <h5 class="form-section-title">Thông tin liên hệ</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Email</label>
                                            <input type="email" class="form-control" th:field="*{email}" readonly>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Mật khẩu</label>
                                            <input type="text" class="form-control" placeholder="Nhập mật khẩu" th:field="*{password}" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Số điện thoại</label>
                                            <input type="tel" class="form-control" th:field="*{phone}" placeholder="Nhập số điện thoại" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">CCCD</label>
                                            <input type="text" class="form-control" th:field="*{CCCD}" placeholder="Nhập số CCCD" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Địa chỉ</label>
                                            <textarea class="form-control" rows="3" th:field="*{address}" required></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Thông tin tài khoản -->
                            <div class="form-section">
                                <h5 class="form-section-title">Thông tin tài khoản</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Vai trò</label>
                                            <select class="form-control" th:field="*{role}" required>
                                                <option value="">Chọn vai trò</option>
                                                <option value="Admin" th:selected="${customer.role == 'Admin'}">Admin</option>
                                                <option value="Nhân viên" th:selected="${customer.role == 'Nhân viên'}">Nhân viên</option>
                                                <option value="Khách hàng" th:selected="${customer.role == 'Khách hàng'}">Khách hàng</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="required-field">Trạng thái</label>
                                            <select class="form-control" th:field="*{status}" required>
                                                <option value="Hoạt động" th:selected="${customer.status == 'Hoạt động'}">Hoạt động</option>
                                                <option value="Khóa" th:selected="${customer.status == 'Khóa'}">Khóa</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Buttons -->
                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-primary btn-submit mr-2">
                                    <i class="fa fa-save"></i> Lưu thay đổi
                                </button>
                                <a href="quanLyKhachHang.html" th:href="@{/management/customers}" class="btn btn-cancel text-white">
                                    <i class="fa fa-times"></i> Hủy
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../static/assets/js/vendor/jquery-2.2.4.min.js" th:src="@{/assets/js/vendor/jquery-2.2.4.min.js}"></script>
    <!-- bootstrap 4 js -->
    <script src="../../static/assets/js/popper.min.js" th:src="@{/assets/js/popper.min.js}"></script>
    <script src="../../static/assets/js/bootstrap.min.js" th:src="@{/assets/js/bootstrap.min.js}"></script>
    <script src="../../static/assets/js/owl.carousel.min.js" th:src="@{/assets/js/owl.carousel.min.js}"></script>
    <script src="../../static/assets/js/metisMenu.min.js" th:src="@{/assets/js/metisMenu.min.js}"></script>
    <script src="../../static/assets/js/jquery.slimscroll.min.js" th:src="@{/assets/js/jquery.slimscroll.min.js}"></script>
    <script src="../../static/assets/js/jquery.slicknav.min.js" th:src="@{/assets/js/jquery.slicknav.min.js}"></script>

    <!-- others plugins -->
    <script src="../../static/assets/js/plugins.js" th:src="@{/assets/js/plugins.js}"></script>
    <script src="../../static/assets/js/scripts.js" th:src="@{/assets/js/scripts.js}"></script>
</body>
</html>